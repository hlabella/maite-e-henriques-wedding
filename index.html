<!doctype html>
<html class="no-js" lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>RSVP | Casamento</title>
    <meta name="description" content="Gostariamos te convidar para o grande dia!">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="RSVP | Casamento">
    <meta property="og:description" content="Gostariamos te convidar para o grande dia!">
    <meta property="og:type" content="website">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">

    <script>
        // load css files from CDN if local node_modules fail
        function loadCssFromCDN(css) {
            // create new link tag
            const link = document.createElement('link');
            if (css === 'animate.css') {
                link.href = 'https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css';
            } else if (css === 'font-awesome.css') {
                link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css';
            }
            link.rel = 'stylesheet';

            // add link tag to head section
            document.getElementsByTagName('head')[0].appendChild(link);
        }

        // load js files from CDN if local node_modules fail
        function loadJsFromCDN(js) {
            if (js === 'waypoints.js') {
                document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.js"><\/script>');
            } else if (js === 'jquery.js') {
                document.write('<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"><\/script>');
            }
        }
    </script>

    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/jquery.fancybox.css">
    <link rel="stylesheet" href="css/flexslider.css">
    <link rel="stylesheet" href="css/styles.min.css">
    <link rel="stylesheet" href="css/queries.css">
    <link rel="stylesheet" href="node_modules/animate.css/animate.min.css" onerror="loadCssFromCDN('animate.css')">
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css" onerror="loadCssFromCDN('font-awesome.css')">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        .wedding-font {
            font-family: 'Great Vibes', cursive;
            font-size: 81px;
            color: #ffffff; /* Adjust color as needed */
        }
    </style>
    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
</head>
<body onload="checkPassword()" id="top">
<section class="hero">
    <section class="navigation">
        <header>
            <div class="header-content">
                <div class="logo"><a href="#"><img src="img/logo.png" alt="Logo"></a></div>
                <div class="header-nav">
                    <nav>
                        <ul class="primary-nav">
                            <li><a href="#intro">Nossa História</a></li>
                            <li><a href="#events">Local</a></li>
                            <li><a href="#eng-pics">Trajes</a></li>
                            <li><a href="#gifts">Presentes</a></li>
                        </ul>
                        <ul class="member-actions">
                            <li><a href="#rsvp" class="btn-white btn-small">RSVP</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="navicon">
                    <a class="nav-toggle" href="#"><span></span></a>
                </div>
            </div>
        </header>
    </section>
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="hero-content text-center" id="dynamic-hero-content">
                    <h1 id="weddingnames" class="wedding-font"></h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 hidden-xs"></div>
            <div class="col-sm-4 hidden-xs text-center"><a href="#rsvp"
                                                           class="btn btn-accent btn-large rsvp-btn">RSVP</a></div>
            <div class="col-sm-4 hidden-xs"></div>
        </div>
    </div>
    <div class="down-arrow floating-arrow"><a href="#invitation"><i class="fa fa-angle-down"></i></a></div>
</section>

<section id="invitation" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h3>Vamos casar!</h3>
                <p id="weddingdate"></p>
            </div>
        </div>
    </div>
</section>

<section id="intro">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h3 class="header">Como nos conhecemos?</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 hidden-sm hidden-xs"></div>
            <div class="col-md-6">
                <p id="story"></p>
            </div>
            <div class="col-md-3 hidden-sm hidden-xs"></div>
        </div>
    </div>
</section>

<section class="events section-padding" id="events">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h3 class="header" style="text-align: center;">Local</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-sm-12 col-xs-12 leftcol">
                <div class="wp3">
                    <h5>Cerimônia <span id="place1time"></span></h5>
                    <p id="place1name"></p>
                    <p id="place1address"></p>
                </div>
            </div>
            <div class="col-md-6 col-sm-12 col-xs-12 rightcol">
                <div class="wp4 animated fadeInRight">
                    <h5>Festa <span id="place2time"></span></h5>
                    <p id="place2name"></p>
                    <p id="place2address"></p>
                </div>
            </div>
        </div>
        
    </div>
</section>


<section id="eng-pics" class="section-padding">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 text-center">
                <h3 class="header">Trajes</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 hidden-sm hidden-xs"></div>
            <div class="col-md-6" style="text-align: center;">
                <p id="trajes"></p>
            </div>
            <div class="col-md-3 hidden-sm hidden-xs"></div>
        </div>
    </div>
    <div class="container">
        <div class="row hidden-lg hidden-md hidden-xs">
            <div class="col-xs-12 section-border section-padding"></div>
        </div>
    </div>
</section>

<section class="rsvp text-center" id="rsvp">

    <div id="rsvp-modal" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span>
                    </button>
                    <div class="section-padding">
                        <h3>Obrigado!</h3>
                        <p>Ficamos felizes que se juntará a nós em nosso grande dia.</p>
                        <div id="add-to-cal"></div>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h3>RSVP</h3>
                <p>Apreciaremos se puder nos avisar sobre sua presença até a data: <span id="rspvlimitdate"></span></p>
                <form id="rsvp-form" class="rsvp-form"
                      action=""
                      method="POST">
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-input-group">
                                <i class="fa fa-envelope"></i><input type="email" name="email" class=""
                                                                     placeholder="Seu email"
                                                                     required>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-input-group">
                                <i class="fa fa-user"></i><input name="name" class=""
                                                                 placeholder="Seu nome"
                                                                 required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-input-group">
                                <i class="fa fa-users"></i><input type="number" name="extras" class="" min="0"
                                                                  max="1"
                                                                  placeholder="Número de acompanhantes"
                                                                  required>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-input-group">
                                <i class="fa fa-user"></i><input name="name" class=""
                                                                 placeholder="Nome do acompanhante"
                                                                 required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12" id="alert-wrapper"></div>
                    </div>
                    <button class="btn-fill rsvp-btn">
                        Confirmar!
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>


<section class="gifts section-padding" id="gifts" style="background: #f8f9fd;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h3 class="header" style="text-align: center;">Presentes</h3>
            </div>
        </div>
        <div class="row" id="gifts-list">
            <!-- Gifts will be dynamically inserted here -->
        </div>
    </div>
</section>


<!-- Modal Structure -->
<div class="modal fade" id="giftModal" tabindex="-1" role="dialog" aria-labelledby="giftModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="giftModalLabel">Detalhes do Presente</h5>
            </div>
            <div class="modal-body text-center">
                <form id="qrForm">
                    <div class="form-group">
                        <label for="descriptionInput">Nome:</label>
                        <input type="text" class="form-control" id="descriptionInput" placeholder="Digite seu nome">
                    </div>
                    <button type="button" class="btn btn-primary" id="generateQrCodeBtn">Gerar Pix QR Code</button>
                </form>
                <div id="qrCodeContainer" style="margin-top: 20px; display: none;">
                    <img id="modalQrCode" src="" alt="QR Code" style="width: 200px; height: 200px; object-fit: cover;">
                    <p id="modalText"></p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-sm-12 text-center content">
                <span class="to-top-wrapper"><a href="#top" class="to-top"><i class="fa fa-angle-up"></i></a></span>
                <p><a id="whatsapp-link" href="#" target="_blank">Quer um site assim para seu casamento?</a></p>
            </div>
        </div>
    </div>
</footer>
<script src="js/vendor/jquery-1.11.2.min.js" onerror="loadJsFromCDN('jquery.js')"></script>
<script src="node_modules/waypoints/lib/jquery.waypoints.min.js" onerror="loadJsFromCDN('waypoints.js')"></script>
<script src="js/jquery.fancybox.pack.js"></script>
<script src="js/vendor/bootstrap.min.js"></script>
<script src="js/jquery.flexslider-min.js"></script>
<script src="js/jquery.mb.YTPlayer.min.js"></script>
<script src="js/vendor/ouical.js"></script>
<script src="js/Pix.js"></script>
<script src="js/scripts.min.js"></script>

<script>
    const isMobile = /android|iphone|ipad|mobile/i.test(navigator.userAgent);
    const whatsappNumber = "5511942152384";
    const whatsappMessage = "Olá! Gostaria de um site para meu casamento.";
    
    const whatsappLink = isMobile 
        ? `whatsapp://send?phone=${whatsappNumber}&text=${encodeURIComponent(whatsappMessage)}`
        : `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodeURIComponent(whatsappMessage)}`;

    document.getElementById('whatsapp-link').href = whatsappLink;
</script>

<script>
    const data = {
        "weddingnames":"Maitê & Henrique",
        "bgpicture":"https://wedding.rampatra.com/img/hero-min.jpg",
        "story": "I first saw Antara in the Fall of 2008 when we started our undergrad. I was instantly attracted to her but was far too nervous to speak to her. I had told my friend I liked her and news had traveled fast and she soon found out. Her first reaction was 'Who is Ram?' and she began searching for me in the class. She started to take notice of me and no matter how boring the lecture was, we never missed a class after that. After a good few months I finally plucked up the courage to ask her out and the rest is history :)",
        "trajes": "Social Completo",
        "weddingdate": "07 de Setembro de 2025",
        "rspvlimitdate": "05/09/2025",
        "places":2,
        "place1time": "17PM - 18PM",
        "place1name": "Nossa Senhora do Brasil",
        "place1address": "Praça Nossa Sra. do Brasil, 01 - Jardim America, São Paulo - SP, 01438-060",
        "place2time": "18PM - 04AM",
        "place2name": "Club Homs",
        "place2address": "Av. Paulista, 735 - Jardins, São Paulo - SP, 01418-100",
        "presentes": 12, 
        "gifts": [
            {"name": "Utensílios de Cozinha", "price": 60, "image": "https://pixnio.com/free-images/2020/12/19/2020-12-19-13-33-59-1152x768.jpg"},
            {"name": "Jogo Americano", "price": 80, "image": "https://victorianprint.co.uk/wp-content/uploads/2022/03/VPCS_EM_0027-scaled.jpg"},
            {"name": "Jogo de Toalhas", "price": 100, "image": "https://i2.pickpik.com/photos/618/236/40/towels-linens-store-bath-linen-preview.jpg"},
            {"name": "Cafeteira", "price": 110, "image": "https://upload.wikimedia.org/wikipedia/commons/6/60/Italian-coffee-maker.svg"},
            {"name": "Aparelho de Fondue", "price": 150, "image": "https://live.staticflickr.com/65535/52924520581_2d83cc3759_b.jpg"},
            {"name": "Mini impressora de fotos", "price": 180, "image": "https://upload.wikimedia.org/wikipedia/commons/a/ad/Fujifilm_Instax_Mini_Link_on_the_table_at_WirForce_Shop_20221105.jpg"},
            {"name": "Chaleira", "price": 250, "image": "https://upload.wikimedia.org/wikipedia/commons/4/44/Black_tea_pot_cropped.jpg"},
            {"name": "Caixa de som", "price": 300, "image": "https://www.trustedreviews.com/wp-content/uploads/sites/54/2021/09/JBL-Flip-5-vertical-scaled.jpg"},
            {"name": "Echo Dot", "price": 350, "image": "https://images.pexels.com/photos/14309805/pexels-photo-14309805.jpeg"},
            {"name": "Cooktop", "price": 400, "image": "https://environmentamerica.org/wp-content/uploads/2022/02/PIRG_Gas-Stove-rawpixel-id-5925804-Public-Domain_WEB.jpg"},
            {"name": "Jantar Estrela Michelin", "price": 500, "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfmCJR1TMHCK6MYeIR8csbpwagbnlUomXggg&s"},
            {"name": "Diária da Lua de Mel", "price": 1000, "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRX3B8pK9FnsoAR1eOnbnch5a6mhQeVWLIJQA&s"}
        ],
        "pix":"37873863867",
        "beneficiariopix": "Henrique",
        "cidadepix":"São Paulo",
        "hash": "a991e84c62a25c5a972f67c47cd81f31063c2dde905a8428977b0458073465cd",
    };

    function checkPassword() {

        // Hash the input password
        var password = prompt("Insira a senha:");
        var inputHash = CryptoJS.SHA256(password).toString();
        
        // Compare the input hash with the stored hash
        if (inputHash != data.hash) {
            window.location = "https://www.google.com";  // Redirect to a different page
        }
    }

    // Função para gerar um txid aleatório de até 25 caracteres alfanuméricos
    function generateTxid() {
        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        let txid = '';
        for (let i = 0; i < 25; i++) {
            txid += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        return txid;
    }

    function sanitizeName(city) {
        // Remover acentos e caracteres especiais
        city = city.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        // Converter para maiúsculas
        city = city.toUpperCase();
        // Substituir espaços por um asterisco ou outro caractere
        city = city.replace(/\s/g, "*");
        // Retornar a cidade tratada
        return city;
    }

    document.addEventListener("DOMContentLoaded", function() {

        // Select the .hero section and set the background image
        const heroSection = document.querySelector('.hero');
        heroSection.style.backgroundImage = `url(${data.bgpicture})`;
        heroSection.style.backgroundSize = 'cover';  // Cover the entire section
        heroSection.style.backgroundPosition = 'center';  // Center the image within the section
        
        if (data.presentes === 0) {
            const giftsSection = document.getElementById('gifts');
            if (giftsSection) {
                giftsSection.remove();  // Remove the section if no gifts are present
            }
        } else {
            const giftsList = document.getElementById('gifts-list');

            data.gifts.forEach(function(gift, index) {
                const giftBox = document.createElement('div');
                giftBox.className = 'col-md-6 col-sm-12';
                giftBox.style.padding = '10px';

                giftBox.innerHTML = `
                    <div style="border: 1px solid #ddd; border-radius: 8px; padding: 35px; text-align: center; background-color: #fff; cursor: pointer;">
                        <img src="${gift.image}" alt="${gift.name}" style="width: 200px; height: 200px; object-fit: cover; border-radius: 8px;">
                        <h4 style="margin-top: 30px;">${gift.name}</h4>
                        <p style="padding-bottom: 0px">R$${gift.price}</p>
                    </div>
                `;

                giftBox.addEventListener('click', function() {
                    // Update the modal content
                    document.getElementById('giftModalLabel').textContent = gift.name;
                    document.getElementById('descriptionInput').value = ''; // Clear previous input
                    document.getElementById('qrCodeContainer').style.display = 'none'; // Hide QR Code section

                    // Show the modal
                    $('#giftModal').modal('show');

                    // Attach event listener to the Generate QR Code button
                    document.getElementById('generateQrCodeBtn').onclick = function() {
                        let giftername = document.getElementById('descriptionInput').value;
                        if (giftername.trim() !== '') {
                            
                            // Gerar txid aleatório
                            let txid = generateTxid();
                            
                            generateQrCode(gift.name, gift.price, txid, giftername); // Passar o txid gerado

                        } else {
                            alert('Digite o nome de quem deu o presente.');
                        }
                    };
                });

                giftsList.appendChild(giftBox);
            });
        }

        if (data.places === 1) {
            // Adjust the layout to one column
            const leftCol = document.querySelector('.leftcol');
            const rightCol = document.querySelector('.rightcol');

            // Merge rightcol into leftcol and hide the rightcol
            leftCol.classList.remove('col-md-6');
            leftCol.classList.add('col-md-12');
            leftCol.style.textAlign = 'center';
            leftCol.style.paddingRight = '15px';
            rightCol.style.display = 'none';

            // Update only the first place
            document.getElementById('place1time').textContent = data.place1time;
            document.getElementById('place1name').textContent = data.place1name;
            // Create a Google Maps link for the place2address
            const place1AddressElement = document.getElementById('place1address');
            const address1 = data.place1address;
            const mapsUrl1 = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`;
            place1AddressElement.innerHTML = `<a href="${mapsUrl}" target="_blank">${address}</a>`;


        } else if (data.places === 2) {
            // Two columns, populate both
            document.getElementById('place1time').textContent = data.place1time;
            document.getElementById('place1name').textContent = data.place1name;
            // Create a Google Maps link for the place2address
            const place1AddressElement = document.getElementById('place1address');
            const address1 = data.place1address;
            const mapsUrl1 = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address1)}`;
            place1AddressElement.innerHTML = `<a href="${mapsUrl1}" target="_blank">${address1}</a>`;

            document.getElementById('place2time').textContent = data.place2time;
            document.getElementById('place2name').textContent = data.place2name;

            // Create a Google Maps link for the place2address
            const place2AddressElement = document.getElementById('place2address');
            const address2 = data.place2address;
            const mapsUrl2 = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address2)}`;
            place2AddressElement.innerHTML = `<a href="${mapsUrl2}" target="_blank">${address2}</a>`;

        }
        document.getElementById('weddingnames').textContent = data.weddingnames;
        document.getElementById('story').textContent = data.story;
        document.getElementById('trajes').textContent = data.trajes;
        document.getElementById('weddingdate').textContent = data.weddingdate;
        document.getElementById('rspvlimitdate').textContent = data.rspvlimitdate

        
    });
</script>


</body>
</html>
